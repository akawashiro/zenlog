- Address all lint warnings.

- Refactor subcommands and add tests.
