- CPU time relatievly high; consider using tee(2) and splice(2)

- Address all lint warnings.

- Clean up e2e tests.

- Refactor subcommands and add tests.
