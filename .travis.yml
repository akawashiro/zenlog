language: go
sudo: false
go:
- "1.10.x"
install:
  - sudo apt-get install -y zsh
  - go get -v -t github.com/golang/lint/golint honnef.co/go/tools/cmd/megacheck
  - go get -t ./...
before_script:
  - go vet ./...
script:
 - "gofmt -s -d $(find . -type f -name '*.go') |& perl -pe 'END{exit($. > 0 ? 1 : 0)}'"
 #- go test -v ./...
 - ./scripts/presubmit.sh
